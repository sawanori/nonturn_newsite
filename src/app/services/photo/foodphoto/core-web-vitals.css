/* Core Web Vitals Optimizations */

/* Prevent layout shift for images */
img {
  max-width: 100%;
  height: auto;
}

/* Define aspect ratios for common image sizes */
.aspect-square {
  aspect-ratio: 1 / 1;
}

.aspect-video {
  aspect-ratio: 16 / 9;
}

.aspect-4-3 {
  aspect-ratio: 4 / 3;
}

.aspect-3-2 {
  aspect-ratio: 3 / 2;
}

/* Skeleton loaders to prevent CLS */
.skeleton {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.1) 0%,
    rgba(255, 255, 255, 0.2) 50%,
    rgba(255, 255, 255, 0.1) 100%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
}

@keyframes skeleton-loading {
  0% {
    background-position: 200% 0;
  }
  100% {
    background-position: -200% 0;
  }
}

/* Font loading optimization */
.fonts-loaded body {
  /* Apply optimized font stack after fonts are loaded */
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Prevent FOUT (Flash of Unstyled Text) */
.font-loading {
  visibility: hidden;
}

.fonts-loaded .font-loading {
  visibility: visible;
}

/* Reserve space for lazy-loaded content */
.lazy-container {
  min-height: 100px; /* Adjust based on content */
  position: relative;
}

/* Optimize button interactions for better FID */
button,
a,
[role="button"] {
  touch-action: manipulation; /* Prevent double-tap zoom delay */
  -webkit-tap-highlight-color: transparent; /* Remove tap highlight on mobile */
}

/* Smooth scroll with reduced motion support */
@media (prefers-reduced-motion: no-preference) {
  html {
    scroll-behavior: smooth;
  }
}

/* Optimize animations for performance */
.will-change-transform {
  will-change: transform;
}

.will-change-opacity {
  will-change: opacity;
}

/* Hardware acceleration */
.hw-accelerated {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Reduce paint areas */
.contain-paint {
  contain: paint;
}

.contain-layout {
  contain: layout;
}

.contain-strict {
  contain: strict;
}

/* Optimize hover effects */
@media (hover: hover) {
  .hover-effect {
    transition: transform 0.2s ease-out;
  }
  
  .hover-effect:hover {
    transform: translateY(-2px);
  }
}

/* Loading states */
.loading-spinner {
  border: 2px solid rgba(255, 255, 255, 0.1);
  border-top-color: #f97316;
  border-radius: 50%;
  width: 24px;
  height: 24px;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* Preload critical images */
.preload-critical {
  content-visibility: auto;
}

/* Optimize for mobile viewport */
@media (max-width: 768px) {
  /* Reduce animation complexity on mobile */
  * {
    animation-duration: 0.3s !important;
  }
  
  /* Optimize touch targets */
  button,
  a,
  [role="button"] {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Dark mode optimizations */
@media (prefers-color-scheme: dark) {
  :root {
    color-scheme: dark;
  }
}

/* Print optimizations */
@media print {
  * {
    animation: none !important;
    transition: none !important;
  }
}